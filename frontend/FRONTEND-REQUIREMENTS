# Especificaciones del Frontend - Local407 Rent Management

## üéØ Objetivo del Proyecto
Sistema web para gestionar locales de ensayo compartidos entre 4 bandas:
- Control de reservas de sala
- Inventario de backline compartido
- Gesti√≥n de pr√©stamos de equipo
- Control de pagos y gastos
- Gesti√≥n de usuarios por local

---

## üõ†Ô∏è Stack Tecnol√≥gico

### Core
- **React** 18.2+
- **React Router** v6
- **Material-UI (MUI)** v5
- **Axios** para API calls

### Formularios y Validaci√≥n
- **React Hook Form** v7
- **Yup** para validaci√≥n de schemas

### Estado Global
- **Context API** para autenticaci√≥n
- **useState/useReducer** para estados locales

### Utilidades
- **date-fns** o **Day.js** para manejo de fechas
- **react-big-calendar** para calendario de reservas

---

## üé® Referencia de Dise√±o

### Template Base
**Material Dashboard 2 React (FREE)**
- URL: https://www.creative-tim.com/product/material-dashboard-react
- Descargar y usar como referencia visual

### Inspiraci√≥n Espec√≠fica
- **Login/Register**: https://mui.com/material-ui/getting-started/templates/sign-in/
- **Dashboard**: https://mui.com/material-ui/getting-started/templates/dashboard/
- **Tables**: https://mui.com/material-ui/react-table/
- **Forms**: https://mui.com/material-ui/react-text-field/

### Paleta de Colores
```javascript
const theme = {
  primary: '#1976d2',      // Azul principal
  secondary: '#dc004e',    // Rosa/Rojo secundario
  success: '#4caf50',      // Verde para √©xitos
  error: '#f44336',        // Rojo para errores
  warning: '#ff9800',      // Naranja para warnings
  info: '#2196f3',         // Azul info
  background: '#f5f5f5',   // Fondo general
  paper: '#ffffff',        // Fondo de cards
  text: {
    primary: '#212121',
    secondary: '#757575'
  }
}
```

---

## üîå API Backend

### Base URL
```
Desarrollo: http://localhost:8080/api
Producci√≥n: https://tu-dominio.com/api
```

### Autenticaci√≥n
Todas las peticiones (excepto login/register) deben incluir:
```
Authorization: Bearer {token}
```

### Endpoints Disponibles

#### 1. Autenticaci√≥n
```
POST /api/auth/register
Body: {
  "email": "string",
  "password": "string",
  "nombre": "string",
  "telefono": "string" (opcional)
}
Response: {
  "id": number,
  "email": "string",
  "nombre": "string",
  "role": "string"
}

POST /api/auth/login
Body: {
  "email": "string",
  "password": "string"
}
Response: {
  "token": "string",
  "usuario": {
    "id": number,
    "email": "string",
    "nombre": "string",
    "role": "string"
  }
}
```

#### 2. Usuarios
```
GET /api/usuarios
Response: Array de usuarios

GET /api/usuarios/{id}
Response: Usuario espec√≠fico

PUT /api/usuarios/{id}
Body: Datos a actualizar

DELETE /api/usuarios/{id}
```

#### 3. Locales
```
GET /api/locales
Response: Array de locales

POST /api/locales
Body: {
  "nombre": "string",
  "direccion": "string",
  "capacidad": number
}

GET /api/locales/{id}

PUT /api/locales/{id}

DELETE /api/locales/{id}
```

#### 4. Items (Backline/Equipamiento)
```
GET /api/items
Query params opcionales:
  - page: number (default: 0)
  - size: number (default: 10)
  - categoria: string
  - disponible: boolean
Response: {
  "content": Array de items,
  "totalElements": number,
  "totalPages": number,
  "number": number (p√°gina actual)
}

POST /api/items
Body: {
  "nombre": "string",
  "descripcion": "string",
  "categoria": "string",
  "condicion": "string",
  "imageUrl": "string" (opcional),
  "disponiblePrestamo": boolean,
  "propietarioId": number
}

GET /api/items/{id}

PUT /api/items/{id}

DELETE /api/items/{id}
```

#### 5. Usuario-Locales (Relaci√≥n usuarios con locales)
```
GET /api/usuario-locales
Response: Array de relaciones usuario-local

POST /api/usuario-locales
Body: {
  "usuarioId": number,
  "localId": number,
  "rol": "string"
}

GET /api/usuario-locales/{id}

DELETE /api/usuario-locales/{id}
```

#### 6. Invitaciones
```
GET /api/invitaciones
Response: Array de invitaciones

POST /api/invitaciones
Body: {
  "email": "string",
  "localId": number,
  "rol": "string"
}

GET /api/invitaciones/{id}

PUT /api/invitaciones/{id}/aceptar

DELETE /api/invitaciones/{id}
```

---

## üìÅ Estructura de Carpetas
```
src/
‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îú‚îÄ‚îÄ common/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Navbar.jsx              # Barra superior con logo y usuario
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Sidebar.jsx             # Men√∫ lateral de navegaci√≥n
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Footer.jsx              # Pie de p√°gina
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ LoadingSpinner.jsx      # Spinner de carga
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ErrorBoundary.jsx       # Manejo de errores
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ auth/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ LoginForm.jsx           # Formulario de login
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ RegisterForm.jsx        # Formulario de registro
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ProtectedRoute.jsx      # HOC para rutas protegidas
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ items/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ItemCard.jsx            # Card individual de item
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ItemList.jsx            # Grid/Lista de items
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ItemForm.jsx            # Formulario crear/editar item
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ItemDetail.jsx          # Detalle completo del item
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ItemFilters.jsx         # Filtros de b√∫squeda
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ locales/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ LocalCard.jsx           # Card de local
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ LocalList.jsx           # Lista de locales
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ LocalForm.jsx           # Formulario de local
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ LocalDetail.jsx         # Detalle del local
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ usuarios/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ UserCard.jsx            # Card de usuario
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ UserList.jsx            # Lista de usuarios
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ UserForm.jsx            # Formulario de usuario
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ UserProfile.jsx         # Perfil de usuario
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ invitaciones/
‚îÇ       ‚îú‚îÄ‚îÄ InvitationList.jsx      # Lista de invitaciones
‚îÇ       ‚îú‚îÄ‚îÄ InvitationForm.jsx      # Formulario nueva invitaci√≥n
‚îÇ       ‚îî‚îÄ‚îÄ InvitationCard.jsx      # Card de invitaci√≥n
‚îÇ
‚îú‚îÄ‚îÄ pages/
‚îÇ   ‚îú‚îÄ‚îÄ auth/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Login.jsx               # P√°gina de login
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Register.jsx            # P√°gina de registro
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ Dashboard.jsx               # Dashboard principal
‚îÇ   ‚îú‚îÄ‚îÄ Items.jsx                   # P√°gina de gesti√≥n de items
‚îÇ   ‚îú‚îÄ‚îÄ Locales.jsx                 # P√°gina de gesti√≥n de locales
‚îÇ   ‚îú‚îÄ‚îÄ Usuarios.jsx                # P√°gina de gesti√≥n de usuarios
‚îÇ   ‚îú‚îÄ‚îÄ Invitaciones.jsx            # P√°gina de invitaciones
‚îÇ   ‚îú‚îÄ‚îÄ Profile.jsx                 # Perfil del usuario
‚îÇ   ‚îî‚îÄ‚îÄ NotFound.jsx                # P√°gina 404
‚îÇ
‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îú‚îÄ‚îÄ api.js                      # Configuraci√≥n base de Axios
‚îÇ   ‚îú‚îÄ‚îÄ authService.js              # Servicios de autenticaci√≥n
‚îÇ   ‚îú‚îÄ‚îÄ itemService.js              # Servicios de items
‚îÇ   ‚îú‚îÄ‚îÄ localService.js             # Servicios de locales
‚îÇ   ‚îú‚îÄ‚îÄ usuarioService.js           # Servicios de usuarios
‚îÇ   ‚îî‚îÄ‚îÄ invitacionService.js        # Servicios de invitaciones
‚îÇ
‚îú‚îÄ‚îÄ context/
‚îÇ   ‚îî‚îÄ‚îÄ AuthContext.jsx             # Context de autenticaci√≥n global
‚îÇ
‚îú‚îÄ‚îÄ hooks/
‚îÇ   ‚îú‚îÄ‚îÄ useAuth.js                  # Hook personalizado para auth
‚îÇ   ‚îú‚îÄ‚îÄ useItems.js                 # Hook para items
‚îÇ   ‚îî‚îÄ‚îÄ useLocales.js               # Hook para locales
‚îÇ
‚îú‚îÄ‚îÄ utils/
‚îÇ   ‚îú‚îÄ‚îÄ axiosConfig.js              # Configuraci√≥n de Axios con interceptors
‚îÇ   ‚îú‚îÄ‚îÄ validators.js               # Funciones de validaci√≥n
‚îÇ   ‚îî‚îÄ‚îÄ constants.js                # Constantes de la app
‚îÇ
‚îú‚îÄ‚îÄ styles/
‚îÇ   ‚îî‚îÄ‚îÄ theme.js                    # Configuraci√≥n del tema MUI
‚îÇ
‚îú‚îÄ‚îÄ App.jsx                         # Componente principal
‚îú‚îÄ‚îÄ main.jsx                        # Entry point
‚îî‚îÄ‚îÄ router.jsx                      # Configuraci√≥n de rutas
```

---

## üé® P√°ginas Detalladas

### 1. Login Page (PRIORIDAD: CR√çTICA)

**Ruta:** `/login`

**Dise√±o:**
- Layout centrado vertical y horizontalmente
- Card con elevaci√≥n (shadow)
- Logo/T√≠tulo "Local407" arriba
- Formulario:
  - Email (con validaci√≥n email)
  - Password (con toggle show/hide)
  - Checkbox "Recordarme"
  - Bot√≥n "Iniciar Sesi√≥n" (primary, full width)
- Link "¬øOlvidaste tu contrase√±a?" (secundario)
- Link "¬øNo tienes cuenta? Reg√≠strate" (al final)

**Validaciones:**
- Email: requerido, formato v√°lido
- Password: requerido, m√≠nimo 6 caracteres

**Comportamiento:**
- Mostrar loader durante petici√≥n
- En √©xito: guardar token, redirigir a /dashboard
- En error: mostrar mensaje de error (Snackbar)

**Referencia visual:**
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                                ‚îÇ
‚îÇ       üè¢ LOCAL407             ‚îÇ
‚îÇ                                ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ  ‚îÇ  Email                   ‚îÇ ‚îÇ
‚îÇ  ‚îÇ  ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ    ‚îÇ ‚îÇ
‚îÇ  ‚îÇ                          ‚îÇ ‚îÇ
‚îÇ  ‚îÇ  Contrase√±a              ‚îÇ ‚îÇ
‚îÇ  ‚îÇ  ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ    ‚îÇ ‚îÇ
‚îÇ  ‚îÇ                          ‚îÇ ‚îÇ
‚îÇ  ‚îÇ  ‚òê Recordarme            ‚îÇ ‚îÇ
‚îÇ  ‚îÇ                          ‚îÇ ‚îÇ
‚îÇ  ‚îÇ  [  INICIAR SESI√ìN  ]    ‚îÇ ‚îÇ
‚îÇ  ‚îÇ                          ‚îÇ ‚îÇ
‚îÇ  ‚îÇ  ¬øOlvidaste contrase√±a?  ‚îÇ ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
‚îÇ                                ‚îÇ
‚îÇ  ¬øNo tienes cuenta? Reg√≠strate ‚îÇ
‚îÇ                                ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

### 2. Register Page (PRIORIDAD: CR√çTICA)

**Ruta:** `/register`

**Dise√±o:**
- Similar a Login
- Formulario:
  - Nombre completo
  - Email
  - Tel√©fono (opcional)
  - Password
  - Confirmar Password
  - Bot√≥n "Registrarse"
- Link "¬øYa tienes cuenta? Inicia sesi√≥n"

**Validaciones:**
- Nombre: requerido, 2-100 caracteres
- Email: requerido, formato v√°lido, √∫nico
- Password: requerido, m√≠nimo 6 caracteres, al menos 1 may√∫scula, 1 min√∫scula, 1 n√∫mero
- Confirmar: debe coincidir con password
- Tel√©fono: opcional, formato v√°lido

---

### 3. Dashboard (PRIORIDAD: ALTA)

**Ruta:** `/dashboard` (ruta por defecto despu√©s de login)

**Layout:**
- Sidebar a la izquierda (colapsable en m√≥vil)
- Topbar con:
  - Logo "Local407"
  - Breadcrumbs
  - Icono de notificaciones
  - Avatar + nombre usuario + dropdown (perfil, logout)

**Contenido:**

**Secci√≥n 1: Cards de Estad√≠sticas (Grid 3 columnas)**
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  üì¶ Items     ‚îÇ ‚îÇ  üë• Usuarios  ‚îÇ ‚îÇ  üè¢ Locales   ‚îÇ
‚îÇ               ‚îÇ ‚îÇ               ‚îÇ ‚îÇ               ‚îÇ
‚îÇ     25        ‚îÇ ‚îÇ     12        ‚îÇ ‚îÇ      3        ‚îÇ
‚îÇ  Disponibles  ‚îÇ ‚îÇ   Activos     ‚îÇ ‚îÇ  Registrados  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**Secci√≥n 2: Gr√°fico (opcional por ahora)**
- Chart.js con actividad del mes

**Secci√≥n 3: √öltimas Actividades**
- Tabla simple con:
  - √öltimos items a√±adidos
  - √öltimas invitaciones
  - Etc.

---

### 4. Items Page (PRIORIDAD: ALTA)

**Ruta:** `/items`

**Toolbar superior:**
- T√≠tulo "Inventario de Backline"
- Bot√≥n "+ Nuevo Item" (primary)
- B√∫squeda (TextField con icono lupa)
- Filtros:
  - Categor√≠a (Select: Todos, Amplificador, Bater√≠a, Micr√≥fono, etc.)
  - Disponibilidad (Select: Todos, Disponible, Prestado)

**Vista principal: Grid de Cards (3-4 columnas responsive)**

Cada ItemCard debe mostrar:
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  [   IMAGEN DEL ITEM   ]  ‚îÇ
‚îÇ                            ‚îÇ
‚îÇ  Amplificador Fender       ‚îÇ
‚îÇ  Categor√≠a: Amplificador   ‚îÇ
‚îÇ  Estado: Excelente         ‚îÇ
‚îÇ                            ‚îÇ
‚îÇ  üü¢ Disponible para pr√©stamo‚îÇ
‚îÇ                            ‚îÇ
‚îÇ  [Ver] [Editar] [Eliminar] ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**Paginaci√≥n:**
- Al final, usando componente Pagination de MUI
- 12 items por p√°gina

**Modal/Drawer para crear/editar:**
- Se abre al click en "+ Nuevo Item" o "Editar"
- Formulario con:
  - Nombre (requerido)
  - Descripci√≥n (textarea)
  - Categor√≠a (select)
  - Condici√≥n (select: Excelente, Bueno, Regular, Necesita reparaci√≥n)
  - URL de imagen (opcional)
  - Disponible para pr√©stamo (checkbox)
  - Propietario (select de usuarios)
- Botones: Cancelar, Guardar

---

### 5. Locales Page (PRIORIDAD: MEDIA)

**Ruta:** `/locales`

**Layout:**
- Similar a Items pero con cards de locales
- Bot√≥n "+ Nuevo Local"

**LocalCard:**
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Local 407 - Planta 4     ‚îÇ
‚îÇ                            ‚îÇ
‚îÇ  üìç Direcci√≥n completa     ‚îÇ
‚îÇ  üë• Capacidad: 4 bandas    ‚îÇ
‚îÇ                            ‚îÇ
‚îÇ  Miembros: 12 usuarios     ‚îÇ
‚îÇ                            ‚îÇ
‚îÇ  [Ver] [Editar] [Eliminar] ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

### 6. Usuarios Page (PRIORIDAD: MEDIA)

**Ruta:** `/usuarios`

**Layout:**
- Tabla con usuarios (MUI Table)
- Columnas:
  - Avatar + Nombre
  - Email
  - Tel√©fono
  - Role
  - Local asignado
  - Acciones (Editar, Eliminar)

**Bot√≥n:** "+ Invitar Usuario"

---

### 7. Invitaciones Page (PRIORIDAD: BAJA)

**Ruta:** `/invitaciones`

**Layout:**
- Lista de invitaciones pendientes
- Cada invitaci√≥n muestra:
  - Email invitado
  - Local
  - Fecha de invitaci√≥n
  - Estado (Pendiente, Aceptada, Rechazada)
  - Acciones (Reenviar, Cancelar)

**Bot√≥n:** "+ Nueva Invitaci√≥n"

---

### 8. Profile Page (PRIORIDAD: BAJA)

**Ruta:** `/profile`

**Layout:**
- Card con informaci√≥n del usuario:
  - Avatar grande
  - Nombre
  - Email
  - Tel√©fono
  - Local asignado
- Bot√≥n "Editar Perfil"
- Bot√≥n "Cambiar Contrase√±a"

---

## üîê Autenticaci√≥n y Protecci√≥n de Rutas

### AuthContext (Context API)
```javascript
// Estructura del contexto
{
  user: {
    id: number,
    email: string,
    nombre: string,
    role: string
  } | null,
  token: string | null,
  loading: boolean,
  login: (email, password) => Promise,
  register: (data) => Promise,
  logout: () => void,
  isAuthenticated: boolean
}
```

### Almacenamiento
- Token JWT en `localStorage` con key: `local407_token`
- User data en `localStorage` con key: `local407_user`

### ProtectedRoute Component
```javascript
// Si no est√° autenticado ‚Üí redirect a /login
// Si est√° autenticado ‚Üí renderiza children
```

---

## üì± Responsive Design

### Breakpoints (MUI default)
- xs: 0px - 600px (m√≥vil)
- sm: 600px - 900px (tablet)
- md: 900px - 1200px (desktop peque√±o)
- lg: 1200px - 1536px (desktop)
- xl: 1536px+ (desktop grande)

### Comportamiento:
- **M√≥vil (xs, sm):**
  - Sidebar oculto por defecto (hamburger menu)
  - Cards en 1 columna
  - Tabla scrollable horizontal
  
- **Tablet (md):**
  - Sidebar colapsable
  - Cards en 2 columnas
  
- **Desktop (lg, xl):**
  - Sidebar visible siempre
  - Cards en 3-4 columnas

---

## üé® Componentes MUI a Usar

### Layout
- `Box` - Contenedor flexible
- `Container` - Contenedor con max-width
- `Grid` - Sistema de grillas
- `Stack` - Layout vertical/horizontal

### Navegaci√≥n
- `AppBar` - Barra superior
- `Toolbar` - Contenido del AppBar
- `Drawer` - Sidebar
- `Breadcrumbs` - Migas de pan

### Inputs
- `TextField` - Input de texto
- `Select` - Dropdown
- `Checkbox` - Checkbox
- `Switch` - Toggle
- `Button` - Botones
- `IconButton` - Botones de iconos

### Display
- `Card`, `CardContent`, `CardActions` - Cards
- `Table`, `TableBody`, `TableCell`, `TableRow`, `TableHead` - Tablas
- `Chip` - Etiquetas peque√±as
- `Avatar` - Avatar circular
- `Divider` - L√≠nea separadora
- `Typography` - Textos con estilos

### Feedback
- `Dialog` - Modales
- `Snackbar` - Notificaciones toast
- `Alert` - Alertas
- `CircularProgress` - Spinner de carga
- `LinearProgress` - Barra de progreso
- `Skeleton` - Placeholder de carga

### Navigation
- `Tabs` - Pesta√±as
- `Pagination` - Paginaci√≥n
- `Menu`, `MenuItem` - Men√∫s desplegables

---

## üîÑ Manejo de Estados y Peticiones

### Pattern para llamadas API
```javascript
const [data, setData] = useState(null);
const [loading, setLoading] = useState(false);
const [error, setError] = useState(null);

useEffect(() => {
  const fetchData = async () => {
    setLoading(true);
    try {
      const response = await itemService.getAll();
      setData(response.data);
      setError(null);
    } catch (err) {
      setError(err.response?.data?.message || 'Error al cargar datos');
    } finally {
      setLoading(false);
    }
  };
  
  fetchData();
}, []);
```

### Mostrar estados:
- **Loading:** Mostrar `<CircularProgress />` o `<Skeleton />`
- **Error:** Mostrar `<Alert severity="error">`
- **Success:** Mostrar datos

---

## üö® Manejo de Errores

### Tipos de errores a manejar:
- **400 Bad Request:** Validaci√≥n fallida ‚Üí Mostrar errores en formulario
- **401 Unauthorized:** Token inv√°lido ‚Üí Logout y redirect a login
- **403 Forbidden:** Sin permisos ‚Üí Mostrar mensaje
- **404 Not Found:** Recurso no existe ‚Üí P√°gina 404
- **409 Conflict:** Duplicado (ej. email existe) ‚Üí Mensaje espec√≠fico
- **500 Server Error:** Error del servidor ‚Üí Mensaje gen√©rico

### Interceptor de Axios (axiosConfig.js):
```javascript
// Si 401 ‚Üí logout autom√°tico
// Si otro error ‚Üí mostrar Snackbar
```

---

## ‚úÖ Validaci√≥n de Formularios

### Schema con Yup (ejemplo Login):
```javascript
const loginSchema = yup.object({
  email: yup
    .string()
    .email('Email inv√°lido')
    .required('El email es obligatorio'),
  password: yup
    .string()
    .min(6, 'M√≠nimo 6 caracteres')
    .required('La contrase√±a es obligatoria')
});
```

### Integraci√≥n con React Hook Form:
```javascript
const { register, handleSubmit, formState: { errors } } = useForm({
  resolver: yupResolver(loginSchema)
});
```

---

## üéØ Prioridades de Desarrollo

### FASE 1: Autenticaci√≥n (1-2 d√≠as)
1. ‚úÖ Setup proyecto React + MUI
2. ‚úÖ AuthContext
3. ‚úÖ P√°gina Login
4. ‚úÖ P√°gina Register
5. ‚úÖ ProtectedRoute
6. ‚úÖ Axios config con interceptors

### FASE 2: Layout Base (1 d√≠a)
1. ‚úÖ Sidebar
2. ‚úÖ Navbar
3. ‚úÖ Footer
4. ‚úÖ Router con rutas

### FASE 3: Items (2-3 d√≠as)
1. ‚úÖ P√°gina Items
2. ‚úÖ ItemCard component
3. ‚úÖ ItemList con paginaci√≥n
4. ‚úÖ ItemForm (crear/editar)
5. ‚úÖ Filtros y b√∫squeda

### FASE 4: Dashboard (1 d√≠a)
1. ‚úÖ Cards de estad√≠sticas
2. ‚úÖ Lista de √∫ltimas actividades

### FASE 5: Locales y Usuarios (2 d√≠as)
1. ‚úÖ P√°gina Locales
2. ‚úÖ P√°gina Usuarios
3. ‚úÖ CRUD completo

### FASE 6: Invitaciones (1 d√≠a)
1. ‚úÖ P√°gina Invitaciones
2. ‚úÖ Formulario y listado

### FASE 7: Profile y Polish (1 d√≠a)
1. ‚úÖ P√°gina Profile
2. ‚úÖ Ajustes finales
3. ‚úÖ Responsive testing

---

## üì¶ Instalaci√≥n Inicial
```bash
# Crear proyecto (si no existe)
npm create vite@latest . -- --template react

# Instalar dependencias principales
npm install @mui/material @emotion/react @emotion/styled
npm install @mui/icons-material
npm install react-router-dom
npm install axios
npm install react-hook-form
npm install yup @hookform/resolvers

# Instalar utilidades
npm install date-fns

# Desarrollo
npm install -D eslint prettier
```

---

## üé® Estructura del Tema MUI (theme.js)
```javascript
import { createTheme } from '@mui/material/styles';

const theme = createTheme({
  palette: {
    primary: {
      main: '#1976d2',
    },
    secondary: {
      main: '#dc004e',
    },
    success: {
      main: '#4caf50',
    },
    error: {
      main: '#f44336',
    },
    background: {
      default: '#f5f5f5',
      paper: '#ffffff',
    },
  },
  typography: {
    fontFamily: '"Roboto", "Helvetica", "Arial", sans-serif',
    h4: {
      fontWeight: 600,
    },
    h5: {
      fontWeight: 500,
    },
  },
  shape: {
    borderRadius: 8,
  },
  components: {
    MuiButton: {
      styleOverrides: {
        root: {
          textTransform: 'none', // No UPPERCASE
          fontWeight: 500,
        },
      },
    },
    MuiCard: {
      styleOverrides: {
        root: {
          boxShadow: '0 2px 8px rgba(0,0,0,0.1)',
        },
      },
    },
  },
});

export default theme;
```

---

## üîå Ejemplo de Service (itemService.js)
```javascript
import api from './api';

const itemService = {
  getAll: (page = 0, size = 12, categoria = null, disponible = null) => {
    const params = { page, size };
    if (categoria) params.categoria = categoria;
    if (disponible !== null) params.disponible = disponible;
    
    return api.get('/items', { params });
  },
  
  getById: (id) => {
    return api.get(`/items/${id}`);
  },
  
  create: (data) => {
    return api.post('/items', data);
  },
  
  update: (id, data) => {
    return api.put(`/items/${id}`, data);
  },
  
  delete: (id) => {
    return api.delete(`/items/${id}`);
  },
};

export default itemService;
```

---

## üìù Notas Importantes

### 1. **CORS**
Aseg√∫rate de que el backend tenga CORS configurado para:
```
http://localhost:5173  (Vite default)
http://localhost:3000  (Create React App)
```

### 2. **Tokens JWT**
- Guardar en localStorage
- Incluir en header Authorization de cada petici√≥n
- Logout: borrar token y redirect a login

### 3. **Feedback al Usuario**
- Usar Snackbar para notificaciones
- Loader durante operaciones
- Confirmaci√≥n antes de eliminar
- Mensajes de √©xito claros

### 4. **Optimizaci√≥n**
- Lazy loading de p√°ginas con React.lazy()
- Debounce en b√∫squedas
- Cache de im√°genes
- Skeleton loaders

---

## üé¨ Prompt para Claude en IntelliJ
```
Lee el archivo FRONTEND_REQUIREMENTS.md que he creado en frontend/

Necesito que construyas el frontend EXACTAMENTE seg√∫n esas especificaciones.

Empezaremos por FASE 1 (Autenticaci√≥n):
1. Setup del proyecto con Vite + React
2. Instalaci√≥n de todas las dependencias listadas
3. Configuraci√≥n del tema de MUI (theme.js)
4. Creaci√≥n de AuthContext con Context API
5. Configuraci√≥n de Axios (api.js + authService.js)
6. Componente Login con validaci√≥n completa
7. Componente Register con validaci√≥n completa
8. ProtectedRoute component
9. Router b√°sico

Usa Material-UI para TODOS los componentes.
Sigue el estilo visual del template Material Dashboard 2 React.
C√≥digo limpio, comentado y con buenas pr√°cticas.

¬øEmpezamos?
```

---

## ‚úÖ Checklist de Completitud

Al finalizar cada componente, verificar:

- [ ] Tiene validaci√≥n de errores
- [ ] Muestra estado de loading
- [ ] Maneja errores de API
- [ ] Es responsive
- [ ] Tiene estilos consistentes (MUI)
- [ ] Sigue la estructura de carpetas
- [ ] C√≥digo comentado
- [ ] Sin console.log en producci√≥n
